(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{334:function(t,e,i){},335:function(t,e,i){},386:function(t,e,i){"use strict";var s=i(334);i.n(s).a},387:function(t,e,i){"use strict";var s=i(335);i.n(s).a},392:function(t,e,i){"use strict";i.r(e),i.d(e,"DashItem",(function(){return m})),i.d(e,"DashLayout",(function(){return c})),i.d(e,"Dashboard",(function(){return z}));i(93),i(92),i(94);var s=i(0),h=(i(165),i(328),i(166),i(354)),r=(i(389),i(390),i(329)),n=i(381);class o{constructor({id:t,x:e,y:i,width:s,height:h,minWidth:r,maxWidth:a,minHeight:d,maxHeight:l,colWidth:u,rowHeight:m,margin:g,draggable:c,resizable:p,resizeEdges:f,resizeHandleSize:_,moveHold:z,resizeHold:b}){this._moved=!1,this._hover=!1,this._moving=!1,this._resizing=!1,this._onMoveStartEventDispatcher=new n.SimpleEventDispatcher,this._onMoveEventDispatcher=new n.SimpleEventDispatcher,this._onMoveEndEventDispatcher=new n.SimpleEventDispatcher,this._onResizeStartEventDispatcher=new n.SimpleEventDispatcher,this._onResizeEventDispatcher=new n.SimpleEventDispatcher,this._onResizeEndEventDispatcher=new n.SimpleEventDispatcher,this._id=t,this._colWidth=void 0!==u?u:1,this._rowHeight=void 0!==m?m:1,this._margin=void 0!==g?g:{x:1,y:1},this._x=void 0!==e?e:o.defaults.x,this._left=o.getLeftFromX(this._x,this._colWidth,this._margin),this._y=void 0!==i?i:o.defaults.y,this._top=o.getTopFromY(this._y,this._rowHeight,this._margin),this._minWidth=void 0!==r?r:o.defaults.minWidth,this._maxWidth=void 0!==a?a:o.defaults.maxWidth,this._width=void 0!==s?s:o.defaults.width,this._minHeight=void 0!==d?d:o.defaults.minHeight,this._maxHeight=void 0!==l?l:o.defaults.maxHeight,this._height=void 0!==h?h:o.defaults.height,this._widthPx=o.getWidthInPx(this._width,this._colWidth,this._margin),this._heightPx=o.getHeightInPx(this._height,this._rowHeight,this._margin),this._draggable=void 0!==c?c:o.defaults.draggable,this._resizable=void 0!==p?p:o.defaults.resizable,this._resizeEdges=void 0!==f?f:"top bottom left right",this._resizeHandleSize=void 0!==_?_:8,this._moveHold=void 0!==z?z:0,this._resizeHold=void 0!==b?b:0}get id(){return this._id}get x(){return this._x}set x(t){this._x=t,this.updatePositionAndSize()}get y(){return this._y}set y(t){this._y=t,this.updatePositionAndSize()}get colWidth(){return this._colWidth}set colWidth(t){this._colWidth=t,this.updatePositionAndSize()}get rowHeight(){return this._rowHeight}set rowHeight(t){this._rowHeight=t,this.updatePositionAndSize()}get margin(){return this._margin}set margin(t){this._margin=t,this.updatePositionAndSize()}get left(){return this._left}set left(t){this._moving||this._resizing||(this._left=t)}get top(){return this._top}set top(t){this._moving||this._resizing||(this._top=t)}get minWidth(){return this._minWidth}set minWidth(t){this._minWidth=t}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth=t}get width(){return this._width}set width(t){this._width=t,this.checkSizeLimits(),this.updatePositionAndSize()}get minHeight(){return this._minHeight}set minHeight(t){this._minHeight=t}get maxHeight(){return this._maxHeight}set maxHeight(t){this._maxHeight=t}get height(){return this._height}set height(t){this._height=t,this.checkSizeLimits(),this.updatePositionAndSize()}get widthPx(){return this._widthPx}set widthPx(t){this._resizing||(this._widthPx=t)}get heightPx(){return this._heightPx}set heightPx(t){this._resizing||(this._heightPx=t)}get hover(){return this._hover}set hover(t){this._hover=t}get moveHold(){return this._moveHold}set moveHold(t){this._moveHold=t}get resizeHold(){return this._resizeHold}set resizeHold(t){this._resizeHold=t}get moving(){return this._moving}get resizing(){return this._resizing}checkSizeLimits(){"number"==typeof this.maxWidth&&this.width>this.maxWidth&&(this.width=this.maxWidth),"number"==typeof this.minWidth&&this.width<this.minWidth&&(this.width=this.minWidth),"number"==typeof this.maxHeight&&this.height>this.maxHeight&&(this.height=this.maxHeight),"number"==typeof this.minHeight&&this.height<this.minHeight&&(this.height=this.minHeight)}updatePositionAndSize(){this.left=o.getLeftFromX(this.x,this.colWidth,this.margin),this.top=o.getTopFromY(this.y,this.rowHeight,this.margin),this.widthPx=o.getWidthInPx(this.width,this.colWidth,this.margin),this.heightPx=o.getHeightInPx(this.height,this.rowHeight,this.margin)}get draggable(){return this._draggable}set draggable(t){this._draggable=t}get resizable(){return this._resizable}set resizable(t){this._resizable=t}get resizeEdges(){return this._resizeEdges}set resizeEdges(t){this._resizeEdges=t}get resizeHandleSize(){return this._resizeHandleSize}set resizeHandleSize(t){this._resizeHandleSize=t}get moved(){return this._moved}set moved(t){this._moved=t}toItem(){return{id:this.id,x:this.x,y:this.y,top:this.top,left:this.left,width:this.width,maxWidth:this.maxWidth,minWidth:this.minWidth,widthPx:this.widthPx,height:this.height,maxHeight:this.maxHeight,minHeight:this.minHeight,heightPx:this.heightPx,draggable:this.draggable,resizable:this.resizable}}fromItem(t){this._x=t.x,this._y=t.y,this._width=t.width,this._height=t.height,this.updatePositionAndSize()}_onMoveStart(){this._moving=!0,this._onMoveStartEventDispatcher.dispatch(this.toItem())}_onMove(t,e){this._left+=t,this._top+=e,this._onMoveEventDispatcher.dispatch(this.toItem())}_onMoveEnd(){this._moving=!1,this._onMoveEndEventDispatcher.dispatch(this.toItem())}get onMoveStart(){return this._onMoveStartEventDispatcher.asEvent()}get onMove(){return this._onMoveEventDispatcher.asEvent()}get onMoveEnd(){return this._onMoveEndEventDispatcher.asEvent()}_onResizeStart(){this._resizing=!0,this._onResizeStartEventDispatcher.dispatch(this.toItem())}_onResize(t){this._left+=t.deltaRect.left,this._top+=t.deltaRect.top,this._widthPx=t.rect.width,this._heightPx=t.rect.height,this._onResizeEventDispatcher.dispatch(this.toItem())}_onResizeEnd(){this._resizing=!1,this._onResizeEndEventDispatcher.dispatch(this.toItem())}get onResizeStart(){return this._onResizeStartEventDispatcher.asEvent()}get onResize(){return this._onResizeEventDispatcher.asEvent()}get onResizeEnd(){return this._onResizeEndEventDispatcher.asEvent()}static getLeftFromX(t,e,i){return Math.round(e*t+(t+1)*i.x)}static getXFromLeft(t,e,i){return Math.round((t-i.x)/(e+i.x))}static getTopFromY(t,e,i){return Math.round(e*t+(t+1)*i.y)}static getYFromTop(t,e,i){return Math.round((t-i.y)/(e+i.y))}static getWidthInPx(t,e,i){return Math.round(e*t+Math.max(0,t-1)*i.x)}static getWidthFromPx(t,e,i){return Math.round((t+i.x)/(e+i.x))}static getHeightInPx(t,e,i){return Math.round(e*t+Math.max(0,t-1)*i.y)}static getHeightFromPx(t,e,i){return Math.round((t+i.y)/(e+i.y))}static get defaults(){return{id:"",x:0,y:0,width:1,height:1,minWidth:1,maxWidth:!1,minHeight:1,maxHeight:!1,draggable:!0,resizable:!0}}static cssTransform(t,e,i,s){const h="translate3d("+e+"px,"+t+"px, 0)";return{transform:h,WebkitTransform:h,MozTransform:h,msTransform:h,OTransform:h,width:i+"px",height:s+"px"}}static cssTopLeft(t,e,i,s){return{top:t+"px",left:e+"px",width:i+"px",height:s+"px"}}}class a{constructor({breakpoint:t,numberOfCols:e,breakpointWidth:i,margin:s,autoHeight:h,useCssTransforms:r,width:n,height:o,rowHeight:d,minRowHeight:l,maxRowHeight:u,colWidth:m,minColWidth:g,maxColWidth:c,compact:p,initialItems:f}){this._itemBeingDragged=!1,this._itemBeingResized=!1,this._initalItemIds=[],this._dashItems=[],this._dragStartListeners=[],this._dragListeners=[],this._dragEndListeners=[],this._resizeStartListeners=[],this._resizeListeners=[],this._resizeEndListeners=[],this._breakpoint=t,this._numberOfCols=e,this._breakpointWidth=void 0!==i?i:a.defaults.breakpointWidth,this._margin=void 0!==s?s:a.defaults.margin,this._autoHeight=void 0!==h?h:a.defaults.autoHeight,this._useCssTransforms=void 0!==r?r:a.defaults.useCssTransforms,this._width=void 0!==n?n:a.defaults.width,this._height=void 0!==o?o:a.defaults.height,this._rowHeight=void 0!==d?d:a.defaults.rowHeight,this._minRowHeight=void 0!==l?l:a.defaults.minRowHeight,this._maxRowHeight=void 0!==u?u:a.defaults.maxRowHeight,this._colWidth=void 0!==m?m:a.defaults.colWidth,this._minColWidth=void 0!==g?g:a.defaults.minColWidth,this._maxColWidth=void 0!==c?c:a.defaults.maxColWidth,this._compact=void 0!==p?p:a.defaults.compact,void 0!==f&&(this._initalItemIds=f.map(t=>t.id))}get breakpoint(){return this._breakpoint}set breakpoint(t){this._breakpoint=t}get breakpointWidth(){return this._breakpointWidth}set breakpointWidth(t){this._breakpointWidth=t}get margin(){return this._margin}set margin(t){this._margin=t}get width(){return this.calculateWidth()}set width(t){this._width=t,this.updateDashItems()}get height(){return this.autoHeight?this.calculateHeight():this._height}set height(t){this._height=t}get numberOfCols(){return this._numberOfCols}set numberOfCols(t){this._numberOfCols=t,this.updateDashItems()}get autoHeight(){return this._autoHeight}set autoHeight(t){this._autoHeight=t}get maxRowHeight(){return this._maxRowHeight}set maxRowHeight(t){this._maxRowHeight=t,this.updateDashItems()}get minRowHeight(){return this._minRowHeight}set minRowHeight(t){this._minRowHeight=t,this.updateDashItems()}get rowHeight(){let t=0;return t="number"==typeof this._rowHeight?this._rowHeight:this.colWidth,"number"==typeof this.maxRowHeight&&t>this.maxRowHeight&&(t=this.maxRowHeight),"number"==typeof this.minRowHeight&&t<this.minRowHeight&&(t=this.minRowHeight),t}set rowHeight(t){this._rowHeight=t,this.updateDashItems()}set maxColWidth(t){this._maxColWidth=t,this.updateDashItems()}get maxColWidth(){return this._maxColWidth}set minColWidth(t){this._minColWidth=t,this.updateDashItems()}get minColWidth(){return this._minColWidth}set colWidth(t){this._colWidth=t}get colWidth(){let t=0;return t="number"==typeof this._colWidth?this._colWidth:(this.width-this.margin.x*(this.numberOfCols+1))/this.numberOfCols,"number"==typeof this.maxColWidth&&t>this.maxColWidth&&(t=this.maxColWidth),"number"==typeof this.minColWidth&&t<this.minColWidth&&(t=this.minColWidth),t}get itemBeingDragged(){return this._itemBeingDragged}set itemBeingDragged(t){this._itemBeingDragged=t}get itemBeingResized(){return this._itemBeingResized}set itemBeingResized(t){this._itemBeingResized=t}get placeholder(){return this.getDashItemById("-1Placeholder")}set placeholder(t){this.placeholder=t}get compact(){return this._compact}set compact(t){this._compact=t}get useCssTransforms(){return this._useCssTransforms}set useCssTransforms(t){this._useCssTransforms=t}calculateWidth(){return"number"==typeof this._colWidth&&"number"==typeof this.colWidth?this.numberOfCols*(this.colWidth+this.margin.x)+this.margin.x:this._width}calculateHeight(){let t=0,e=0;for(let i of this._dashItems)e=i.y+i.height,e>t&&(t=e);return t*(this.rowHeight+this.margin.y)+this.margin.y}addDashItem(t){this._dashItems.push(t),this.updateDashItems();let e=t.onMoveStart.subscribe(t=>{this.itemDragging(t)});this._dragStartListeners.push({id:t.id,unsubscribe:e});let i=t.onMove.subscribe(t=>{this.itemDragging(t)});this._dragListeners.push({id:t.id,unsubscribe:i});let s=t.onMoveEnd.subscribe(t=>{this.itemDraggingComplete(t)});this._dragEndListeners.push({id:t.id,unsubscribe:s});let h=t.onResizeStart.subscribe(t=>{this.itemResizing(t)});this._resizeStartListeners.push({id:t.id,unsubscribe:h});let r=t.onResize.subscribe(t=>{this.itemResizing(t)});this._resizeListeners.push({id:t.id,unsubscribe:r});let n=t.onResizeEnd.subscribe(t=>{this.itemResizingComplete(t)});if(this._resizeEndListeners.push({id:t.id,unsubscribe:n}),!this._initalItemIds.includes(t.id)){let t=this.compactLayout(this.items);this.syncItems(t)}}removeDashItem(t){let e=this._dashItems.findIndex(e=>e.id===t.id);e>=0&&this._dashItems.splice(e,1),e=this._dragStartListeners.findIndex(e=>e.id===t.id),e>=0&&(this._dragStartListeners[e].unsubscribe(),this._dragStartListeners.splice(e,1)),e=this._dragListeners.findIndex(e=>e.id===t.id),e>=0&&(this._dragListeners[e].unsubscribe(),this._dragListeners.splice(e,1)),e=this._dragEndListeners.findIndex(e=>e.id===t.id),e>=0&&(this._dragEndListeners[e].unsubscribe(),this._dragEndListeners.splice(e,1)),e=this._resizeStartListeners.findIndex(e=>e.id===t.id),e>=0&&(this._resizeStartListeners[e].unsubscribe(),this._resizeStartListeners.splice(e,1)),e=this._resizeListeners.findIndex(e=>e.id===t.id),e>=0&&(this._resizeListeners[e].unsubscribe(),this._resizeListeners.splice(e,1)),e=this._resizeEndListeners.findIndex(e=>e.id===t.id),e>=0&&(this._resizeEndListeners[e].unsubscribe(),this._resizeEndListeners.splice(e,1));let i=this._initalItemIds.findIndex(e=>{t.id});i>-1&&this._initalItemIds.splice(i,1);let s=this.compactLayout(this.items);this.syncItems(s)}getDashItemById(t){let e=this._dashItems.findIndex(e=>e.id===t);return e>=0?this._dashItems[e]:null}updateDashItems(){this._dashItems.forEach(t=>{t.colWidth=this.colWidth,t.rowHeight=this.rowHeight,t.margin=this.margin})}get items(){let t=[];return this._dashItems.forEach(e=>{t.push(e.toItem())}),t}itemDragging(t){this.itemBeingDragged||(this.placeholder.x=t.x,this.placeholder.y=t.y,this.placeholder.width=t.width,this.placeholder.height=t.height,this.itemBeingDragged=!0);let e=JSON.parse(JSON.stringify(this.items)).filter(e=>e.id!==t.id),i=e.findIndex(t=>t.id===this.placeholder.id);e=this.moveItem(e,e[i],o.getXFromLeft(t.left,this.colWidth,this.margin),o.getYFromTop(t.top,this.rowHeight,this.margin),!0),e=this.compactLayout(e),this.syncItems(e)}itemDraggingComplete(t){this.itemBeingDragged=!1;let e=this.getDashItemById(t.id);e&&(e.x=this.placeholder.x,e.y=this.placeholder.y),this.placeholder.x=0,this.placeholder.y=0,this.placeholder.width=0,this.placeholder.height=0}itemResizing(t){this.itemBeingResized=!0,this.placeholder.minWidth=t.minWidth,this.placeholder.maxWidth=t.maxWidth,this.placeholder.minHeight=t.minHeight,this.placeholder.maxHeight=t.maxHeight,this.placeholder.x=o.getXFromLeft(t.left,this.colWidth,this.margin),this.placeholder.y=o.getYFromTop(t.top,this.rowHeight,this.margin),this.placeholder.width=o.getWidthFromPx(t.widthPx,this.colWidth,this.margin),this.placeholder.height=o.getHeightFromPx(t.heightPx,this.rowHeight,this.margin);let e=JSON.parse(JSON.stringify(this.items)).filter(e=>e.id!==t.id),i=e.findIndex(t=>t.id===this.placeholder.id);e=this.moveItem(e,e[i],o.getXFromLeft(t.left,this.colWidth,this.margin),o.getYFromTop(t.top,this.rowHeight,this.margin),!0),e=this.compactLayout(e),this.syncItems(e)}itemResizingComplete(t){this.itemBeingResized=!1;let e=this.getDashItemById(t.id);e&&(e.x=this.placeholder.x,e.y=this.placeholder.y,e.width=this.placeholder.width,e.height=this.placeholder.height),this.placeholder.x=0,this.placeholder.y=0,this.placeholder.width=0,this.placeholder.height=0}checkForCollision(t,e){return t.id!==e.id&&(!(t.x+t.width<=e.x)&&(!(t.x>=e.x+e.width)&&(!(t.y+t.height<=e.y)&&!(t.y>=e.y+e.height))))}getFirstCollision(t,e){for(let i of t)if(this.checkForCollision(e,i))return i;return null}getAllCollisions(t,e){return t.filter(t=>this.checkForCollision(t,e))}correctItemBounds(t){return t.x+t.width>this.numberOfCols&&(t.x=this.numberOfCols-t.width),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.width>this.numberOfCols&&(t.x=0,t.width=this.numberOfCols),t}correctBounds(t){for(let e=0;e<t.length;e++)t[e]=this.correctItemBounds(t[e]);return t}compactLayout(t){const e=this.sortItems(t),i=[],s=Array(t.length);for(let h=0;h<e.length;h++){let r=e[h];r=this.compactItem(i,r),i.push(r),s[t.findIndex(t=>t.id===r.id)]=r,r.moved=!1}return s}compactItem(t,e){if(this.compact)for(;e.y>0&&!this.getFirstCollision(t,e);)e.y--;let i;for(;i=this.getFirstCollision(t,e);)e.y=i.y+i.height;return e}sortItems(t,e){let i=JSON.parse(JSON.stringify(t));return i.sort((t,e)=>t.y>e.y||t.y===e.y&&t.x>e.x?1:-1),e&&i.reverse(),i}moveItem(t,e,i,s,h){const r=e.y>s;e.x=i,e.y=s,e.moved=!0,e=this.correctItemBounds(e);const n=this.sortItems(t,r),o=this.getAllCollisions(n,e);for(let i of o){if(i.moved)continue;if(e.y>i.y&&e.y-i.y>i.height/4)continue;let s=t.findIndex(t=>t.id===i.id);t=this.moveItemFromCollision(t,e,t[s],h)}return t}moveItemFromCollision(t,e,i,s){if(s){const s={id:"-1fakeItem",x:i.x,y:i.y,width:i.width,maxWidth:i.maxWidth,minWidth:i.minWidth,height:i.height,maxHeight:i.maxHeight,minHeight:i.minHeight};if(s.y=Math.max(e.y-i.height,0),!this.getFirstCollision(t,s))return this.moveItem(t,i,i.x,s.y)}return this.moveItem(t,i,i.x,i.y+1)}syncItems(t){t.forEach(t=>{this.getDashItemById(t.id).fromItem(t)})}static get defaults(){return{numberOfCols:12,breakpointWidth:void 0,margin:{x:10,y:10},autoHeight:!0,keepSquare:!0,useCssTransforms:!1,width:400,height:400,rowHeight:!1,maxRowHeight:!1,minRowHeight:!1,colWidth:!1,maxColWidth:!1,minColWidth:!1,compact:!0}}}var d=["x","y","width","height"],l={name:"DashItem",inheritAttrs:!1,props:{id:{type:[Number,String],required:!0},x:{type:Number,default:o.defaults.x},y:{type:Number,default:o.defaults.y},width:{type:Number,default:o.defaults.width},maxWidth:{type:[Number,Boolean],default:o.defaults.maxWidth},minWidth:{type:[Number,Boolean],default:o.defaults.minWidth},height:{type:Number,default:o.defaults.height},maxHeight:{type:[Number,Boolean],default:o.defaults.maxHeight},minHeight:{type:[Number,Boolean],default:o.defaults.minHeight},draggable:{type:Boolean,default:o.defaults.draggable},resizable:{type:Boolean,default:o.defaults.resizable},resizeEdges:{type:String,default:"bottom right"},resizeHandleSize:{type:Number,default:8},draggableZIndex:{type:Number,default:1},resizableZIndex:{type:Number,default:1},moveHold:{type:Number,default:0},resizeHold:{type:Number,default:0},dragAllowFrom:{type:String,default:null}},inject:{$layout:{default:null}},provide:function(){var t=this;return{$item:function(){return t.item}}},data:function(){return{interactInstance:null,item:null,dragging:!1,resizing:!1,unWatch:null,hover:!1}},computed:{resizingOrDragging:function(){return this.resizing||this.dragging},classObj:function(){return{dragging:this.resizingOrDragging,cssTransforms:this.useCssTransforms}},layout:function(){return this.$layout?this.$layout():null},useCssTransforms:function(){return this.layout?this.layout.useCssTransforms:a.default.useCssTransforms},left:function(){return this.item?this.item.left:0},top:function(){return this.item?this.item.top:0},widthPx:function(){return this.item?this.item.widthPx:0},heightPx:function(){return this.item?this.item.heightPx:0},cssStyle:function(){return this.useCssTransforms?o.cssTransform(this.top,this.left,this.widthPx,this.heightPx):o.cssTopLeft(this.top,this.left,this.widthPx,this.heightPx)},resizeTop:function(){return this.resizable&&this.resizeEdges.includes("top")},resizeBottom:function(){return this.resizable&&this.resizeEdges.includes("bottom")},resizeLeft:function(){return this.resizable&&this.resizeEdges.includes("left")},resizeRight:function(){return this.resizable&&this.resizeEdges.includes("right")},resizeTopLeft:function(){return this.resizeTop&&this.resizeLeft},resizeBottomLeft:function(){return this.resizeBottom&&this.resizeLeft},resizeTopRight:function(){return this.resizeTop&&this.resizeRight},resizeBottomRight:function(){return this.resizeBottom&&this.resizeRight}},methods:{setDraggable:function(){var t=this;this.draggable?this.interactInstance.draggable({enabled:!0,hold:this.moveHold,allowFrom:this.dragAllowFrom,listeners:{start:function(e){t.onMoveStart(e)},move:function(e){t.onMove(e)},end:function(e){t.onMoveEnd(e)}}}):this.interactInstance.draggable(!1)},setResizable:function(){var t=this;this.resizable?this.interactInstance.resizable({enabled:!0,hold:this.resizeHold,edges:{top:".resize-top",left:".resize-left",bottom:".resize-bottom",right:".resize-right"},listeners:{start:function(e){t.onResizeStart(e)},move:function(e){t.onResize(e)},end:function(e){t.onResizeEnd(e)}}}):this.interactInstance.resizable(!1)},onMoveStart:function(t){this.dragging=!0,this.item._onMoveStart(),this.$emit("moveStart",Object(h.a)({},this.item.toItem()))},onMove:function(t){this.dragging&&(this.item._onMove(t.dx,t.dy),this.$emit("moving",Object(h.a)({},this.item.toItem())))},onMoveEnd:function(t){this.item._onMoveEnd(),this.dragging=!1,this.$emit("moveEnd",Object(h.a)({},this.item.toItem()))},onResizeStart:function(t){this.resizing=!0,this.item._onResizeStart(),this.$emit("resizeStart",Object(h.a)({},this.item.toItem()))},onResize:function(t){this.resizing&&(this.item._onResize(t),this.$emit("resizing",Object(h.a)({},this.item.toItem())))},onResizeEnd:function(t){this.item._onResizeEnd(),this.resizing=!1,this.$emit("resizeEnd",Object(h.a)({},this.item.toItem()))},createPropWatchers:function(){var t=this;Object.keys(this.$props).forEach((function(e){t.$watch(e,function(t,e){return{handler:function(e){this.item[t]!==e&&(this.item[t]=e)},deep:e}}(e,!0))}))},createDashItemWatchers:function(){var t=this;d.forEach((function(e){var i;t.$watch("item."+e,(i=e,{handler:function(t){this.$props[i]!==t&&this.$emit("update:"+i,t)},deep:!0}))}))}},watch:{hover:function(t){this.item.hover=t,t?this.$emit("hoverStart",this.item):this.$emit("hovenEnd",this.item)},draggable:function(){this.setDraggable()},resizable:function(){this.setResizable()},moveHold:function(){this.setDraggable()},resizeHold:function(){this.setResizable()},dragAllowFrom:function(){this.setDraggable()}},mounted:function(){this.item=new o(this.$props),this.interactInstance=Object(r.a)(this.$refs.item),this.setDraggable(),this.setResizable(),this.layout?(this.layout.addDashItem(this.item),this.createPropWatchers(),this.createDashItemWatchers()):this.unWatch=this.$watch("layout",(function(t){t&&(this.layout.addDashItem(this.item),this.createPropWatchers(),this.createDashItemWatchers(),this.unWatch())}),{immediate:!0})},beforeDestroy:function(){this.interactInstance&&this.interactInstance.unset(),this.layout&&this.layout.removeDashItem(this.item)}},u=(i(386),i(41)),m=Object(u.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"item",staticClass:"item",class:t.classObj,style:t.cssStyle,attrs:{id:"item_"+t.id},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t.resizeTop?i("div",{ref:t.id+"-resizeTop",staticClass:"resize resize-top",style:{height:t.resizeHandleSize+"px",top:-t.resizeHandleSize/2+"px",left:0,right:0,cursor:"ns-resize",position:"absolute",zIndex:t.resizableZIndex},attrs:{id:t.id+"-resizeTop"}},[t._t("resizeTop")],2):t._e(),t._v(" "),t.resizeBottom?i("div",{ref:t.id+"-resizeBottom",staticClass:"resize resize-bottom",style:{height:t.resizeHandleSize+"px",left:"0px",right:"0px",bottom:-t.resizeHandleSize/2+"px",cursor:"ns-resize",position:"absolute",zIndex:t.resizableZIndex},attrs:{id:t.id+"-resizeBottom"}},[t._t("resizeBottom")],2):t._e(),t._v(" "),t.resizeLeft?i("div",{ref:t.id+"-resizeLeft",staticClass:"resize resize-left",style:{width:t.resizeHandleSize+"px",top:"0px",bottom:"0px",left:-t.resizeHandleSize/2+"px",cursor:"ew-resize",position:"absolute",zIndex:t.resizableZIndex},attrs:{id:t.id+"-resizeLeft"}},[t._t("resizeLeft")],2):t._e(),t._v(" "),t.resizeRight?i("div",{ref:t.id+"-resizeRight",staticClass:"resize resize-right",style:{width:t.resizeHandleSize+"px",top:"0px",bottom:"0px",right:-t.resizeHandleSize/2+"px",cursor:"ew-resize",position:"absolute",zIndex:t.resizableZIndex},attrs:{id:t.id+"-resizeRight"}},[t._t("resizeRight")],2):t._e(),t._v(" "),t.resizeTopLeft?i("div",{ref:t.id+"-resizeTopLeft",staticClass:"resize resize-left resize-top",style:{width:2*t.resizeHandleSize+"px",height:2*t.resizeHandleSize+"px",top:-t.resizeHandleSize+"px",left:-t.resizeHandleSize+"px",cursor:"nw-resize",position:"absolute",zIndex:t.resizableZIndex},attrs:{id:t.id+"-resizeTopLeft"}},[t._t("resizeTopLeft")],2):t._e(),t._v(" "),t.resizeTopRight?i("div",{ref:t.id+"-resizeTopRight",staticClass:"resize resize-right resize-top",style:{width:2*t.resizeHandleSize+"px",height:2*t.resizeHandleSize+"px",top:-t.resizeHandleSize+"px",right:-t.resizeHandleSize+"px",cursor:"ne-resize",position:"absolute",zIndex:t.resizableZIndex},attrs:{id:t.id+"-resizeTopRight"}},[t._t("resizeTopRight")],2):t._e(),t._v(" "),t.resizeBottomLeft?i("div",{ref:t.id+"-resizeBottomLeft",staticClass:"resize resize-left resize-bottom",style:{width:2*t.resizeHandleSize+"px",height:2*t.resizeHandleSize+"px",bottom:-t.resizeHandleSize+"px",left:-t.resizeHandleSize+"px",cursor:"ne-resize",position:"absolute",zIndex:t.resizableZIndex},attrs:{id:t.id+"-resizeBottomLeft"}},[t._t("resizeBottomLeft")],2):t._e(),t._v(" "),t.resizeBottomRight?i("div",{ref:t.id+"-resizeBottomRight",staticClass:"resize resize-right resize-bottom",style:{width:2*t.resizeHandleSize+"px",height:2*t.resizeHandleSize+"px",bottom:-t.resizeHandleSize+"px",right:-t.resizeHandleSize+"px",cursor:"nw-resize",position:"absolute",zIndex:t.resizableZIndex},attrs:{id:t.id+"-resizeBottomRight"}},[t._t("resizeBottomRight")],2):t._e(),t._v(" "),t._t("default")],2)}),[],!1,null,null,null).exports,g={name:"DashLayout",inheritAttrs:!1,props:{breakpoint:{type:String,required:!0},breakpointWidth:{type:Number,default:a.defaults.breakpointWidth},numberOfCols:{type:Number,default:a.defaults.numberOfCols},useCssTransforms:{type:Boolean,default:a.defaults.useCssTransforms},compact:{type:Boolean,default:a.defaults.compact},debug:{type:Boolean,default:!1},margin:{type:Object,default:function(){return a.defaults.margin}},rowHeight:{type:[Boolean,Number],default:a.defaults.rowHeight},maxRowHeight:{type:[Boolean,Number],default:a.defaults.maxRowHeight},minRowHeight:{type:[Boolean,Number],default:a.defaults.minRowHeight},colWidth:{type:[Boolean,Number],default:a.defaults.colWidth},maxColWidth:{type:[Boolean,Number],default:a.defaults.maxColWidth},minColWidth:{type:[Boolean,Number],default:a.defaults.minColWidth}},components:{DashItem:m},data:function(){return{l:null,placeholderId:"-1Placeholder",placeholderY:0,placeholderHeight:0,placeholderMaxWidth:!1,unWatch:null}},provide:function(){var t=this;return{$layout:function(){return t.l}}},inject:{$dashboard:{default:null}},computed:{dashboard:function(){return this.$dashboard?this.$dashboard():null},currentBreakpoint:function(){return this.dashboard?this.dashboard.currentBreakpoint:""},dragging:function(){return this.l.itemBeingDragged},resizing:function(){return this.l.itemBeingResized},placeholder:function(){var t;return(null===(t=this.l)||void 0===t?void 0:t.placeholder)?this.l.placeholder.toItem():""},itemsFromLayout:function(){return this.l?this.l.items:[]},height:function(){return this.l?this.l.height+"px":"0px"},width:function(){return this.l?this.l.width+"px":"0px"}},methods:{createPropWatchers:function(){var t=this;Object.keys(this.$props).forEach((function(e){t.$watch(e,function(t,e){return{handler:function(e){this.l[t]!==e&&(this.l[t]=e)},deep:e}}(e,!0))}))}},mounted:function(){var t,e=[];(null===(t=this.$attrs)||void 0===t?void 0:t.items)&&(e=this.$attrs.items),this.l=new a(Object(h.a)(Object(h.a)({},this.$props),{},{initialItems:e})),this.dashboard?(this.dashboard.addLayoutInstance(this.l),this.createPropWatchers()):this.unWatch=this.$watch("dashboard",(function(t){t&&(this.dashboard.addLayoutInstance(this.l),this.createPropWatchers(),this.unWatch())}),{immediate:!0})},beforeDestroy:function(){this.dashboard&&this.dashboard.removeLayoutInstance(this.l)}},c=(i(387),Object(u.a)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.currentBreakpoint===t.breakpoint?i("div",[t.l?i("div",{style:{position:"relative",height:t.height,width:t.width}},[t._t("default"),t._v(" "),i("DashItem",{directives:[{name:"show",rawName:"v-show",value:t.dragging||t.resizing,expression:"dragging || resizing"}],attrs:{id:t.placeholderId,draggable:!1,resizable:!1,y:t.placeholderY,height:t.placeholderHeight,maxWidth:t.placeholderMaxWidth},on:{"update:y":function(e){t.placeholderY=e},"update:height":function(e){t.placeholderHeight=e},"update:maxWidth":function(e){t.placeholderMaxWidth=e},"update:max-width":function(e){t.placeholderMaxWidth=e}}},[i("div",{staticClass:"placeholder"})])],2):t._e(),t._v(" "),t.debug?i("div",[t._v("\n    Layout Breakpoint: "+t._s(t.breakpoint)+" "),i("br"),t._v("\n    Layout Number of Cols: "+t._s(t.numberOfCols)+" "),i("br"),t._v("\n    placeholder: "+t._s(JSON.stringify(t.placeholder))+" "),i("br"),t._v("\n    Items: "+t._s(JSON.stringify(t.itemsFromLayout))+" "),i("br"),t._v("\n    Height: "+t._s(t.height)+" "),i("br"),t._v("\n    Attrs: "+t._s(t.$attrs)+"\n  ")]):t._e()]):t._e()}),[],!1,null,null,null).exports);class p{constructor({id:t,autoHeight:e,width:i}){this._id=t,this._layouts=[],this._autoHeight=void 0!==e?e:p.defaults.autoHeight,this._width=void 0!==i?i:p.defaults.width}get id(){return this._id}get breakpoints(){let t=[];for(let e of this._layouts)t.push({name:e.breakpoint,numberOfCols:e.numberOfCols,setpoint:e.breakpointWidth});return t.sort((t,e)=>void 0!==t.setpoint&&void 0!==e.setpoint?+t.setpoint-+e.setpoint:void 0===t.setpoint?1:-1),t}get currentBreakpoint(){return this.updateCurrentBreakpoint()}get layouts(){return this._layouts}set layouts(t){this._layouts=t}get autoHeight(){return this._autoHeight}set autoHeight(t){this._autoHeight=t}get width(){return this._width}set width(t){this._width=t,this.updateCurrentBreakpoint(),this.updateLayouts()}updateCurrentBreakpoint(){if(0==this.breakpoints.length)return"";let t=this.breakpoints[0].name;for(let e=1;e<this.breakpoints.length;e++)void 0!==typeof this.breakpoints[e].setpoint&&this.width>this.breakpoints[e].setpoint&&(t=this.breakpoints[e].name);return t}sortBreakpoints(){this.breakpoints.sort((t,e)=>void 0!==t.setpoint&&void 0!==e.setpoint?+t.setpoint-+e.setpoint:void 0===t.setpoint?1:-1)}addLayoutInstance(t){this._layouts.push(t)}updateLayouts(){this._layouts.forEach(t=>{t.width=this.width})}removeLayoutInstance(t){let e=this.layouts.findIndex(e=>t.breakpoint===e.breakpoint);e>=0&&this._layouts.splice(e,1)}static get defaults(){return{autoHeight:!0,width:400}}}var f=i(388),_={name:"Dashboard",inheritAttrs:!1,props:{id:{type:[Number,String],required:!0},autoHeight:{type:Boolean,default:p.defaults.autoHeight}},directives:{rlocal:f.resize},data:function(){return{d:null}},provide:function(){var t=this;return{$dashboard:function(){return t.d}}},computed:{currentBreakpoint:function(){return this.d?this.d.currentBreakpoint:null}},watch:{currentBreakpoint:function(t){t&&this.$emit("currentBreakpointUpdated",t)}},methods:{onResize:function(t){this.d.width=t.detail.width},createPropWatchers:function(){var t=this;Object.keys(this.$props).forEach((function(e){t.$watch(e,function(t,e){return{handler:function(e){this.d[t]!==e&&(this.d[t]=e)},deep:e}}(e,!0))}))}},created:function(){this.d=new p(this.$props),this.createPropWatchers()}},z=Object(u.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return this.d?e("div",{directives:[{name:"rlocal",rawName:"v-rlocal"}],ref:this.id,attrs:{id:this.id},on:{resize:this.onResize}},[this._t("default")],2):this._e()}),[],!1,null,null,null).exports,b={DashItem:m,DashLayout:c,Dashboard:z};Object.keys(b).forEach((function(t){s.a.component(t,b[t])}));e.default=b}}]);