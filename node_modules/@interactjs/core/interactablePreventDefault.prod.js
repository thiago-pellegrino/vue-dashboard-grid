import{matchesSelector as t,nodeContains as e}from"../utils/domUtils.prod.js";import n from"../utils/is.prod.js";import{getWindow as r}from"../utils/window.prod.js";function o(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):n.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function i({interaction:t,event:e}){t.interactable&&t.interactable.checkAndPreventDefault(e)}export function install(i){const{Interactable:s}=i;s.prototype.preventDefault=o,s.prototype.checkAndPreventDefault=function(e){return((e,o,i)=>{const s=e.options.preventDefault;if("never"!==s)if("always"!==s){if(o.events.supportsPassive&&/^touch(start|move)$/.test(i.type)){const t=r(i.target).document,e=o.getDocOptions(t);if(!e||!e.events||!1!==e.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(i.type)||n.element(i.target)&&t(i.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||i.preventDefault()}else i.preventDefault()})(this,i,e)},i.interactions.docEvents.push({type:"dragstart",listener(t){for(const n of i.interactions.list)if(n.element&&(n.element===t.target||e(n.element,t.target)))return void n.interactable.checkAndPreventDefault(t)}})}export default{id:"core/interactablePreventDefault",install:install,listeners:["down","move","up","cancel"].reduce(((t,e)=>(t["interactions:"+e]=i,t)),{})};
//# sourceMappingURL=interactablePreventDefault.prod.js.map